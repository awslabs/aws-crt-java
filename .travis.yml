sudo: true
language: c

os: osx
osx_image:
  - xcode8
  - xcode9.2
  - xcode10.1
compiler: clang

# use the addon to do the update of homebrew, or else ruby versions get confused
addons:
  homebrew:
    update: true
    taps: AdoptOpenJDK/openjdk
    packages:
      - ninja
      - maven
      - cmake
      - adpotopenjdk-openjdk8

script:
  - ./codebuild/common-posix.sh -DCMAKE_EXPORT_COMPILE_COMMANDS=ON
