{
    "name": "aws-crt-java",
    "packages": [
        "maven"
    ],
    "build_steps": [
        "mvn -B test"
    ],
    "hosts": {
        "ubuntu": {
            "packages": [
                "openjdk-8-jdk-headless"
            ],
            "build_env": {
                "JAVA_HOME": "/usr/lib/jvm/java-8-openjdk-amd64"
            }
        },
        "alpine": {
            "packages": [
                "openjdk8"
            ],
            "build_env": {
                "JAVA_HOME": "/usr/lib/jvm/java-1.8-openjdk"
            }
        }
    },
    "targets": {
        "linux": {
            "variables": {
                "openssl_include": "/opt/openssl/include",
                "openssl_lib": "/opt/openssl/lib"
            },
            "!build_steps": [
                [
                    "mvn",
                    "-B",
                    "test",
                    "-Dlibcrypto.include={openssl_include}",
                    "-Dlibcrypto.shared={openssl_lib}/libcrypto.so",
                    "-Dlibcrypto.static={openssl_lib}/libcrypto.a"
                ]
            ]
        }
    }
}