{
    "name": "aws-crt-java",
    "packages": [
        "maven"
    ],
    "build_steps": [
        "mvn -B compile"
    ],
    "test_steps": [
        "mvn -B test"
    ],
    "build_dir": "target/cmake-build",
    "hosts": {
        "ubuntu": {
            "packages": [
                "openjdk-8-jdk-headless"
            ],
            "build_env": {
                "JAVA_HOME": "/usr/lib/jvm/java-8-openjdk-amd64"
            }
        },
        "debian": {
            "packages": [
                "openjdk-8-jdk-headless"
            ]
        },
        "alpine": {
            "packages": [
                "openjdk8"
            ]
        }
    },
    "targets": {
        "linux": {
            "imports": ["s2n"],
            "!build_steps": [
                "mvn -B compile -Dlibcrypto.path={libcrypto_path}"
            ],
            "!test_steps": [
                "mvn -B test -Dlibcrypto.path={libcrypto_path}"
            ],
            "architectures": {
                "armv6": {
                    "!build_steps": [
                        "build"
                    ],
                    "build_env": {},
                    "!test_steps": [],
                    "!cmake_args": [
                        "-Btarget/cmake-build",
                        "-H.",
                        "-DCMAKE_PREFIX_PATH=target/cmake-build/install",
                        "-DCMAKE_INSTALL_PREFIX=target/cmake-build/install",
                        "-DLibCrypto_INCLUDE_DIR={libcrypto_path}/include",
                        "-DLibCrypto_SHARED_LIBRARY={libcrypto_path}/lib/libcrypto.so",
                        "-DLibCrypto_STATIC_LIBRARY={libcrypto_path}/lib/libcrypto.a",
                        "-DCMAKE_BUILD_TYPE=Release",
                        "-DBUILD_DEPS=ON",
                        "-DBUILD_TESTING=OFF",
                        "-DS2N_NO_PQ_ASM=ON"
                    ]
                },
                "armv7": {
                    "!build_steps": [
                        "build"
                    ],
                    "build_env": {},
                    "!test_steps": [],
                    "!cmake_args": [
                        "-Btarget/cmake-build",
                        "-H.",
                        "-DCMAKE_PREFIX_PATH=target/cmake-build/install",
                        "-DCMAKE_INSTALL_PREFIX=target/cmake-build/install",
                        "-DLibCrypto_INCLUDE_DIR={libcrypto_path}/include",
                        "-DLibCrypto_SHARED_LIBRARY={libcrypto_path}/lib/libcrypto.so",
                        "-DLibCrypto_STATIC_LIBRARY={libcrypto_path}/lib/libcrypto.a",
                        "-DCMAKE_BUILD_TYPE=Release",
                        "-DBUILD_DEPS=ON",
                        "-DBUILD_TESTING=OFF",
                        "-DS2N_NO_PQ_ASM=ON"
                    ]
                },
                "arm64": {
                    "!build_steps": [
                        "build"
                    ],
                    "build_env": {},
                    "!test_steps": [],
                    "!cmake_args": [
                        "-Btarget/cmake-build",
                        "-H.",
                        "-DCMAKE_PREFIX_PATH=target/cmake-build/install",
                        "-DCMAKE_INSTALL_PREFIX=target/cmake-build/install",
                        "-DLibCrypto_INCLUDE_DIR={libcrypto_path}/include",
                        "-DLibCrypto_SHARED_LIBRARY={libcrypto_path}/lib/libcrypto.so",
                        "-DLibCrypto_STATIC_LIBRARY={libcrypto_path}/lib/libcrypto.a",
                        "-DCMAKE_BUILD_TYPE=Release",
                        "-DBUILD_DEPS=ON",
                        "-DBUILD_TESTING=OFF",
                        "-DS2N_NO_PQ_ASM=ON"
                    ]
                }
            }
        }
    }
}